<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Bản đồ Bệnh viện Los Angeles</title>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
  
  <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.26/"></script>
  
  <script>
    var point_template_hospital = {
      title: "{Name}",
      content: "Bệnh viện này ở <b>{Location}</b>."
    };
    var point_template_area = {
      title: "{Name}",
      content: "Khu vực này ở <b>{Location}</b>."
    };
    var point_template_neighborhood = {
      title: "{Name}",
      content: "Khu dân cư ở <b>{Location}</b>."
    };
    
    var jsondata = {
      // Các point trên bản đồ biểu thị bệnh viện ở Los Angeles
      "points":[
        {
          type: "point",
          longitude: -118.29388184457588, 
          latitude: 34.09839188399175,
          Name: "Kaiser Permanente Los Angeles Medical Center",
          Location: "trong khu dân cư East Hollywood",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.286392079, 
          latitude: 34.067204777,
          Name: "SHRINERS HOSPITAL FOR CHILDREN - L.A.",
          Location: "3160 GENEVA STREET",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.430219294, 
          latitude: 34.2185641940001,
          Name: "KAISER PERMANENTE PANORAMA CITY",
          Location: "13652 CANTARA STREET",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.531904059, 
          latitude: 34.170393216,
          Name: "PROVIDENCE TARZANA MEDICAL CENTER",
          Location: "18321 CLARK STREET",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.445764102, 
          latitude: 34.325871722,
          Name: "LOS ANGELES COUNTY OLIVE VIEW-UCLA MEDICAL CENTER",
          Location: "14445 OLIVE VIEW DRIVE",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.362458577,
          latitude: 34.0573663500001,
          Name: "DOCS SURGICAL HOSPITAL",
          Location: "6000 SAN VICENTE BOULEVARD",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.360527347,
          latitude: 34.0572922740001,
          Name: "OLYMPIA MEDICAL CENTER",
          Location: "5900 WEST OLYMPIA BLVD",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.239227761,
          latitude: 34.0648800160001,
          Name: "PACIFIC ALLIANCE MEDICAL CENTER",
          Location: "WEST COLLEGE STREET",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude: -118.41186805,
          latitude: 34.059102925,
          Name: "CALIFORNIA REHABILITATION INSTITUTE, LLC",
          Location: "2070 CENTURY PARK EAST",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        },
        {
          type: "point",
          longitude:-118.447490834,
          latitude: 34.176900695,
          Name: "SOUTHERN CALIFORNIA HOSPITAL AT VAN NUYS D/P APH",
          Location: "14433 EMELITA STREET",
          symbol: {
            type: "picture-marker",
            url: "hospital-buildings.png",
            width: "30px",
            height: "30px"
          },
          popupTemplate: point_template_hospital
        }
      ],
      //Vẽ đường biên giới quanh thành phố Los Angeles
      "lines": [
        {
          type: "polyline",
          paths: [
            [-118.599159, 34.074326],  //fern wood
            [-118.564677,34.130077], // quan los angeles
            [-118.668284, 34.176789], // annie oakley
            [-118.667849, 34.209300],  //bell canyon
            [-118.646979, 34.238077],  //topanga
            [-118.632443,34.237086],
            [-118.632443, 34.238570],    //chatsworth
            [-118.633460,34.269506],  //simi valley
            [-118.625538,34.274955],   //ronald reagan fwy
            [-118.605001,34.277649],   //chatsworth
            [-118.596210,34.274541],   //chatsworth
            [-118.586595,34.303448],   //quận los angeles
            [-118.540999,34.298821],   //granada hills
            [-118.545999,34.317174],   //standard oil fire rd
            [-118.503043,34.337205],   //sylmar
            [-118.492589,34.330667],   //san fernando
            [-118.405132,34.329808],   //herron st
            [-118.403398,34.286401],   //filmore st
            [-118.238808,34.281390],    //stone canyon trail
            [-118.267081,34.222478],    //shadow hills
            [ -118.362683,34.206885],
            [-118.345084,34.142625],  //quận los angeles
            [ -118.281231,34.156398],   //grand central
            [-118.254120,34.118869],    //tropico
            [-118.184107,34.149074],     //eagle rock
            [-118.155525,34.098408],      //el sereno
            [-118.165129,34.062794],       //cal state la
            [-118.192640,34.061780],        //hazard
            [-118.191806,34.013478],          //union pacific
            [-118.239677,34.014578],            //los angeles
            [-118.238022,33.989442],             //los angeles
            [-118.256510,33.989392],              //los angeles
            [-118.256046,33.953306],               //green meadows
            [-118.233968,33.953423],                //los angeles
            [-118.230301,33.929359],                 //willowbrook
            [-118.281870,33.922431],                  //west rancho dominguez
            [-118.285916,33.846377],                   //los angeles
            [-118.298946,33.846241], //denker
            [-118.299138,33.797956],                 
            [-118.237465,33.800365], //los angeles
            [-118.220311,33.782671],  
            [-118.248905,33.755498],  // los angeles
            [-118.231662,33.714908],  //compton
            [-118.294015,33.704542],
            [-118.333094,33.721777],
            [-118.308940,33.798123],
            [-118.309168,33.865645],
            [-118.290602,33.866446],
            [-118.291383,33.959425],  
            [-118.429577,33.916258],
            [-118.566808,34.042054],
            [-118.599159, 34.074326],
          ],
          symbol: {
            type: "simple-line",
            color: [226, 119, 40],
            width: 3
          },
          Name: "Thành phố Los Angeles",
          Location: "California, Hoa Kỳ",
          popupTemplate: point_template_area
        }
      ],
      // Vẽ các đơn vị hành chính nhỏ hơn trong Los Angeles
      "polygons":[
        {
          type: "polygon",
          rings: [
            [-118.30927527567266, 34.101747053569376],
            [-118.29297736736784, 34.10176414817049],
            [-118.29220501279116, 34.10150903732089],
            [-118.28740476043208, 34.09836191743578],
            [-118.28711374075422, 34.098168683788465],
            [-118.28414617332518, 34.09581611599354],
            [-118.28459748192913, 34.09581836115297],
            [-118.28441042124129, 34.076720483162816],
            [-118.28629044944205, 34.07669626730222],
            [-118.2868221291262, 34.07633598048512],
            [-118.30916040481216, 34.07625104289602]
          ],
          Name: "Khu dân cư East Hollywood",
          Location: "Thành phố Los Angeles, bang California, Hoa Kỳ",
          symbol: {
            type: "simple-fill",
            color: [227, 139, 79, 0.4],
            outline: {
              color: [255, 255, 255],
              width: 1
            }
          },
          popupTemplate: point_template_neighborhood
        }
      ]
    };

    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/Graphic",
      "esri/layers/GraphicsLayer"
    ], function(Map, MapView, Graphic, GraphicsLayer) {

      var map = new Map({
        basemap: "streets-navigation-vector"
      });
      
      map.on("load", function(){
        map.graphics.enableMouseEvents();
      });

      var view = new MapView({
        container: "viewDiv",
        map: map,
        center: [-118.37261843470925, 34.12822961697963],
        zoom: 10,
        highlightOptions: {
          color: "blue"
        }
      });
      
      var createGraphic = function (data) {
        return new Graphic({
          geometry: data,
          symbol: data.symbol,
          attributes: data,
          popupTemplate: data.popupTemplate
        });
      }; 
      
      var graphicsLayer = new GraphicsLayer();
      
      jsondata.points.forEach(function(data){
        graphicsLayer.add(createGraphic(data));
      });
      
      jsondata.lines.forEach(function(data){
        graphicsLayer.add(createGraphic(data));
      });
      
      jsondata.polygons.forEach(function(data){
        graphicsLayer.add(createGraphic(data));
      });
      
      map.add(graphicsLayer);

    });
  </script>
</head>
<body>
  <div id="viewDiv"></div>
</body>
</html>