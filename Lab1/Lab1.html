<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ArcGIS JavaScript Tutorials: Create a Starter App</title>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
  
    <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.26/"></script>
  
  <script>
	var point_template_tree = {
					title: "{Name}",
					content: "Cây này ở <b>{Location}</b>."
				};
	var point_template_light = {
					title: "{Name}",
					content: "Bóng đèn này ở <b>{Location}</b>."
				};
	var point_template_chair = {
					title: "{Name}",
					content: "Cái ghế này ở <b>{Location}</b>."
				};
	var point_template_area = {
					title: "{Name}",
					content: "Khu vực này ở <b>{Location}</b>."
				};
	var point_template_university = {
					title: "{Name}",
					content: "Trường ở <b>{Location}</b>."
				};
	var jsondata = {
		// Các point trên bảng đồ biểu thị bệnh viện ở Los Angeles
		"points":[
			{
				type: "point",
				longitude: -118.29388184457588, 
				latitude: 34.09839188399175,
				Name: "Kaiser Permanente Los Angeles Medical Center",
				Location: "trong ...",
				symbol: {
					type: "simple-marker",
					color: [0, 153, 51],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_tree
			},
			{
				type: "point",
				longitude: -118.286392079, 
				latitude: 34.067204777,
				Name: "SHRINERS HOSPITAL FOR CHILDREN - L.A.",
				Location: "...",
				symbol: {
					type: "simple-marker",
					color: [255, 204, 0],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_light
			},
			{
				type: "point",
				longitude: -118.430219294, 
				latitude: 34.2185641940001,
				Name: "KAISER PERMANENTE PANORAMA CITY",
				Location: "13652 CANTARA STREET",
				symbol: {
					type: "simple-marker",
					color: [153, 51, 51],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_chair
			},
			{
				type: "point",
				longitude: -118.531904059, 
				latitude: 34.170393216,
				Name: "PROVIDENCE TARZANA MEDICAL CENTER",
				Location: "18321 CLARK STREET",
				symbol: {
					type: "simple-marker",
					color: [153, 51, 51],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_chair
			},
			
		],
		//Vẽ đường biên giới quanh thành phố Los Angeles
		"lines": [
		{
			type: "polyline",
			paths: [
				[-118.599159, 34.074326],  //fern wood
				[-118.564677,34.130077], // quan los angeles
				[-118.668284, 34.176789], // annie oakley
				[-118.667849, 34.209300],  //bell canyon
				[-118.646979, 34.238077],  //topanga
				[-118.632443,34.237086],
				[-118.632443, 34.238570],    //chatsworth
				[-118.633460,34.269506],  //simi valley
				[-118.625538,34.274955],   //ronald reagan fwy
				[-118.605001,34.277649],   //chatsworth
				[-118.596210,34.274541],   //chatsworth
				[-118.586595,34.303448],   //quận los angeles
				[-118.540999,34.298821],   //granada hills
				[-118.545999,34.317174],   //standard oil fire rd
				[-118.503043,34.337205],   //sylmar
				[-118.492589,34.330667],   //san fernando
				[-118.405132,34.329808],   //herron st
				[-118.403398,34.286401],   //filmore st
				[-118.238808,34.281390],    //stone canyon trail
				[-118.267081,34.222478],    //shadow hills
				[ -118.362683,34.206885],
				[-118.345084,34.142625],  //quận los angeles
				[ -118.281231,34.156398],   //grand central
				[-118.254120,34.118869],    //tropico
				[-118.184107,34.149074],     //eagle rock
				[-118.155525,34.098408],      //el sereno
				[-118.165129,34.062794],       //cal state la
				[-118.192640,34.061780],        //hazard
				[-118.191806,34.013478],          //union pacific
				[-118.239677,34.014578],            //los angeles
				[-118.238022,33.989442],             //los angeles
				[-118.256510,33.989392],              //los angeles
				[-118.256046,33.953306],               //green meadows
				[-118.233968,33.953423],                //los angeles
				[-118.230301,33.929359],                 //willowbrook
				[-118.281870,33.922431],                  //west rancho dominguez
				[-118.285916,33.846377],                   //los angeles
				[-118.298946,33.846241], //denker
				[-118.299138,33.797956],                 
				[-118.237465,33.800365], //los angeles
				[-118.220311,33.782671],  
				[-118.248905,33.755498],  // los angeles
				[-118.231662,33.714908],  //compton
				[-118.294015,33.704542],
				[-118.333094,33.721777],
				[-118.308940,33.798123],
				[-118.309168,33.865645],
				[-118.290602,33.866446],
				[-118.291383,33.959425],  
				[-118.429577,33.916258],
				[-118.566808,34.042054],
				[-118.599159, 34.074326],
			],

			symbol: {
				type: "simple-line",
				color: [226, 119, 40],
				width: 2
			},
			Name: "Thành phố Los Angeles",
			Location: "California, Hoa Kỳ",
			popupTemplate: point_template_area
		}
	],
	// Vẽ các đơn vị hành chính nhỏ hơn trong los angeles
		"polygons":[
			{
				type: "polygon",
				rings: [
					[106.80514114445627, 10.870158436990936],
					[106.80400388783394, 10.868915147546755],
					[106.8032099539655, 10.868325110065758],
					[106.80245893544132, 10.869210165849735],
					[106.80245893544132, 10.869484111155634],
					[106.8037463957685, 10.871085632526057]
				],
				Name: "Đại học CNTT",
				Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
				symbol: {
					type: "simple-fill",
					color: [227, 139, 79, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_university
			},
			{
				type: "polygon",
				rings: [
					[106.79522769993694, 10.870537744603572],
					[106.79522769993694, 10.8687044200089],
					[106.79466980046185, 10.866913229929262],
					[106.7956139380351, 10.866618209355593],
					[106.79672973698534, 10.866639282263392],
					[106.79750221318164, 10.867018594349172],
					[106.79733055180469, 10.867987945267126],
					[106.7971374327556, 10.868156527714055],
					[106.79741638249315, 10.868535837871478],
					[106.79760950154225, 10.869589474667853],
					[106.79715889042772, 10.87039023614485],
				],
				Name: "Đại học Nông Lâm",
				Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
				symbol: {
					type: "simple-fill",
					color: [0, 153, 0, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_university
			},
			{
				type: "polygon",
				rings: [
					[106.79479854649456, 10.870664180367287],
					[106.7936398322001, 10.871528156651996],
					[106.7935325438395, 10.871991752651327],
					[106.79394023960977, 10.872834652622513],
					[106.79469125813395, 10.873424681185172],
					[106.79580705708419, 10.87348789846195],
					[106.7960216338054, 10.87317181194409],
					[106.79763095921437, 10.873045377243164],
					[106.79773824757497, 10.872497492919857],
					[106.798103028001, 10.871991752651327],
					[106.79698722905079, 10.870474526701626]
				],
				Name: "Đại học TDTT",
				Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
				symbol: {
					type: "simple-fill",
					color: [204, 153, 0, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_university
			},
			{
				type: "polygon",
				rings: [
					[106.79705160206711, 10.874646879494943],
					[106.79707305973923, 10.875426555110405],
					[106.79687994069013, 10.875721566973882],
					[106.79700868672286, 10.875953361804736],
					[106.79668682164106, 10.876269445374627],
					[106.79619329518232, 10.876311589825294],
					[106.79600017613323, 10.876627673015491],
					[106.79602163380535, 10.876964828049044],
					[106.7971588904277, 10.87744948774189],
					[106.79896133488576, 10.87677517838957],
					[106.79915445393483, 10.876185156455417],
					[106.79909008091848, 10.875552988801912],
					[106.79838197773852, 10.874309721840753]
				],
				Name: "Đại học KHTN",
				Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
				symbol: {
					type: "simple-fill",
					color: [51, 102, 255, 0.4],
					outline: {
						color: [255, 255, 255],
						width: 1
					}
				},
				popupTemplate: point_template_university
			}
			
		]
	};
    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/Graphic",
      "esri/layers/GraphicsLayer"
    ], function(Map, MapView, Graphic, GraphicsLayer) {

		var map = new Map({
		basemap: "topo-vector"
		});
		 map.on("load", function(){
          map.graphics.enableMouseEvents();
        });

		var view = new MapView({
		container: "viewDiv",
		map: map,
		center: [-118, 34],
		zoom: 15,
          highlightOptions: {
            color: "blue"
          }
		});
		var createGraphic = function (data) {
			return new Graphic({
				geometry: data,
				symbol: data.symbol,
				attributes: data,
				popupTemplate: data.popupTemplate
			});
		}; 
		var graphicsLayer = new GraphicsLayer();
		jsondata.points.forEach(function(data){
			graphicsLayer.add(createGraphic(data));
		});
		jsondata.lines.forEach(function(data){
			graphicsLayer.add(createGraphic(data));
		});
		jsondata.polygons.forEach(function(data){
			graphicsLayer.add(createGraphic(data));
		});
		map.add(graphicsLayer);
		

    });
  </script>
</head>
<body>
  <div id="viewDiv"></div>
</body>
</html>